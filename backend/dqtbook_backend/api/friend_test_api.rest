### ===========================================
### FRIEND API TESTS
### ===========================================

### 1. Get friends of user 3
GET http://localhost:8080/friends/3

### 2. Get friends of user 2
GET http://localhost:8080/friends/2

### 3. Get friends of non-existing user
GET http://localhost:8080/friends/999

### 4. Send friend request (User 1 -> User 3)
POST http://localhost:8080/friends/request
Content-Type: application/json

{
  "sender_id": 1,
  "receiver_id": 3
}

### 5. Send friend request (User 4 -> User 5)
POST http://localhost:8080/friends/request
Content-Type: application/json

{
  "sender_id": 4,
  "receiver_id": 5
}

### 6. Send friend request to yourself (should fail)
POST http://localhost:8080/friends/request
Content-Type: application/json

{
  "sender_id": 1,
  "receiver_id": 1
}

### 7. Send friend request to non-existing user (should fail)
POST http://localhost:8080/friends/request
Content-Type: application/json

{
  "sender_id": 1,
  "receiver_id": 999
}

### 8. Send duplicate friend request (should fail)
POST http://localhost:8080/friends/request
Content-Type: application/json

{
  "sender_id": 4,
  "receiver_id": 5
}

### 9. Accept friend request (User 3 accepts User 1's request)
PUT http://localhost:8080/friends/accept
Content-Type: application/json

{
  "sender_id": 3,
  "receiver_id": 1
}

### 10. Accept non-existing friend request (should fail)
PUT http://localhost:8080/friends/accept
Content-Type: application/json

{
  "user_id_1": 1,
  "user_id_2": 3
}

### 11. Block friend (User 1 blocks User 2)
PUT http://localhost:8080/friends/block
Content-Type: application/json

{
  "sender_id": 3,
  "receiver_id": 1
}

### 12. Block non-existing friend (should fail)
PUT http://localhost:8080/friends/block
Content-Type: application/json

{
  "sender_id": 1,
  "receiver_id": 999
}

### 13. Unfriend (User 1 unfriends User 2)
DELETE http://localhost:8080/friends/unfriend
Content-Type: application/json

{
  "sender_id": 1,
  "receiver_id": 3
}

### 14. Unfriend non-existing relationship (should fail)
DELETE http://localhost:8080/friends/unfriend
Content-Type: application/json

{
  "user_id_1": 1,
  "user_id_2": 999
}

### ===========================================
### COMPLETE FRIEND FLOW TEST
### ===========================================

### 15. Create new users first (if needed)
POST http://localhost:8080/users
Content-Type: application/json

{
  "full_name": "Alice",
  "email": "alice@example.com",
  "password_hash": "password123"
}

### 16. Create another user
POST http://localhost:8080/users
Content-Type: application/json

{
  "full_name": "Bob",
  "email": "bob@example.com",
  "password_hash": "password123"
}

### 17. Send friend request (Alice -> Bob)
POST http://localhost:8080/friends/request
Content-Type: application/json

{
  "sender_id": 4,
  "receiver_id": 5
}

### 18. Check Alice's friends (should show pending request)
GET http://localhost:8080/friends/4

### 19. Check Bob's friends (should show pending request)
GET http://localhost:8080/friends/5

### 20. Bob accepts Alice's request
PUT http://localhost:8080/friends/accept
Content-Type: application/json

{
  "user_id_1": 4,
  "user_id_2": 5
}

### 21. Check Alice's friends (should show accepted)
GET http://localhost:8080/friends/4

### 22. Check Bob's friends (should show accepted)
GET http://localhost:8080/friends/5

### 23. Alice blocks Bob
PUT http://localhost:8080/friends/block
Content-Type: application/json

{
  "user_id_1": 4,
  "user_id_2": 5
}

### 24. Check Alice's friends (should show blocked)
GET http://localhost:8080/friends/4

### 25. Alice unfriends Bob
DELETE http://localhost:8080/friends/unfriend
Content-Type: application/json

{
  "user_id_1": 4,
  "user_id_2": 5
}

### 26. Check Alice's friends (should be empty)
GET http://localhost:8080/friends/4

### ===========================================
### ERROR HANDLING TESTS
### ===========================================

### 27. Test with null values
POST http://localhost:8080/friends/request
Content-Type: application/json

{
  "sender_id": null,
  "receiver_id": 2
}

### 28. Test with missing fields
POST http://localhost:8080/friends/request
Content-Type: application/json

{
  "sender_id": 1
}

### 29. Test with empty request body
POST http://localhost:8080/friends/request
Content-Type: application/json

{}

### 30. Test invalid JSON
POST http://localhost:8080/friends/request
Content-Type: application/json

{
  "sender_id": 1,
  "receiver_id": 2
  // Missing closing brace
